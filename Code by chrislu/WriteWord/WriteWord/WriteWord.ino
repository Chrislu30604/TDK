#include <Servo.h>
#include <inttypes.h>
/*
Servo servo1;
Servo servo2;
Servo servo3;
Servo servo4;
Servo servo5;
Servo servo6;
*/

//void ServoAct(char degree[]);
//void toOrigin();
Servo servoAR[6];

int initDegree[] = { 90, 90, 90, 90, 150, 90 };

int line[] = {-50,50,57,49,-8,0,
-49,49,56,49,-7,0,
-48,48,55,49,-6,0,
-47,47,54,49,-5,0,
-46,46,53,50,-4,0,
-45,45,53,56,3,0,
-45,45,52,54,2,0,
-44,44,52,53,1,0,
-43,43,51,52,1,0,
-42,42,50,50,0,0,
-41,41,50,50,0,0,
-41,41,49,50,0,0,
-40,40,49,50,1,0,
-39,39,49,50,2,0,
-38,38,48,50,2,0,
-38,38,48,50,3,0,
-37,37,47,50,3,0,
-36,36,47,51,4,0,
-36,36,47,51,4,0,
-35,35,46,51,4,0,
-34,34,46,51,5,0,
-33,33,46,51,5,0,
-33,33,45,51,5,0,
-32,32,45,51,6,0,
-31,31,45,51,6,0,
-31,31,45,51,6,0,
-30,30,44,51,7,0,
-29,29,44,51,7,0,
-29,29,44,51,7,0,
-28,28,44,51,7,0,
-27,27,43,51,8,0,
-27,27,43,51,8,0,
-26,26,43,51,8,0,
-25,25,43,51,8,0,
-25,25,42,51,9,0,
-24,24,42,51,9,0,
-24,24,42,51,9,0,
-23,23,42,51,9,0,
-22,22,42,51,9,0,
-22,22,42,51,9,0,
-21,21,41,51,10,0,
-20,20,41,51,10,0,
-20,20,41,51,10,0,
-19,19,41,51,10,0,
-19,19,41,51,10,0,
-18,18,41,51,10,0,
-17,17,40,51,10,0,
-17,17,40,51,11,0,
-16,16,40,51,11,0,
-16,16,40,51,11,0,
-15,15,40,51,11,0,
-14,14,40,51,11,0,
-14,14,40,51,11,0,
-13,13,40,28,-11,0,
-13,13,40,28,-11,0,
-12,12,40,28,-11,0,
-11,11,39,28,-12,0,
-11,11,39,28,-12,0,
-10,10,39,28,-12,0,
-10,10,39,28,-12,0,
-9,9,39,27,-12,0,
-8,8,39,27,-12,0,
-8,8,39,27,-12,0,
-7,7,39,27,-12,0,
-7,7,39,27,-12,0,
-6,6,39,27,-12,0,
-6,6,39,27,-12,0,
-5,5,39,27,-12,0,
-4,4,39,27,-12,0,
-4,4,39,27,-12,0,
-3,3,39,27,-12,0,
-3,3,39,26,-12,0,
-2,2,39,26,-12,0,
-1,1,39,26,-12,0,
-1,1,39,26,-12,0,
0,0,39,26,-12,0,
0,0,39,26,-12,0,
1,-1,39,26,-12,0,
1,-1,39,26,-12,0,
2,-2,39,26,-12,0,
3,-3,39,26,-12,0,
3,-3,39,27,-12,0,
4,-4,39,27,-12,0,
4,-4,39,27,-12,0,
5,-5,39,27,-12,0,
6,-6,39,27,-12,0,
6,-6,39,27,-12,0,
7,-7,39,27,-12,0,
7,-7,39,27,-12,0,
8,-8,39,27,-12,0,
8,-8,39,27,-12,0,
9,-9,39,27,-12,0,
10,-10,39,28,-12,0,
10,-10,39,28,-12,0,
11,-11,39,28,-12,0,
11,-11,39,28,-12,0,
12,-12,40,28,-11,0,
13,-13,40,28,-11,0,
13,-13,40,28,-11,0,
14,-14,40,51,11,0,
14,-14,40,51,11,0,
15,-15,40,51,11,0,
16,-16,40,51,11,0,
16,-16,40,51,11,0,
17,-17,40,51,11,0,
17,-17,40,51,10,0,
18,-18,41,51,10,0,
19,-19,41,51,10,0,
19,-19,41,51,10,0,
20,-20,41,51,10,0,
20,-20,41,51,10,0,
21,-21,41,51,10,0,
22,-22,42,51,9,0,
22,-22,42,51,9,0,
23,-23,42,51,9,0,
24,-24,42,51,9,0,
24,-24,42,51,9,0,
25,-25,42,51,9,0,
25,-25,43,51,8,0,
26,-26,43,51,8,0,
27,-27,43,51,8,0,
27,-27,43,51,8,0,
28,-28,44,51,7,0,
29,-29,44,51,7,0,
29,-29,44,51,7,0,
30,-30,44,51,7,0,
31,-31,45,51,6,0,
31,-31,45,51,6,0,
32,-32,45,51,6,0,
33,-33,45,51,5,0,
33,-33,46,51,5,0,
34,-34,46,51,5,0,
35,-35,46,51,4,0,
36,-36,47,51,4,0,
36,-36,47,51,4,0,
37,-37,47,50,3,0,
38,-38,48,50,3,0,
38,-38,48,50,2,0,
39,-39,49,50,2,0,
40,-40,49,50,1,0,
41,-41,49,50,0,0,
41,-41,50,50,0,0,
42,-42,50,50,0,0,
43,-43,51,52,1,0,
44,-44,52,53,1,0,
45,-45,52,54,2,0,
45,-45,53,56,3,0,
46,-46,53,50,-4,0,
47,-47,54,49,-5,0,
48,-48,55,49,-6,0,
49,-49,56,49,-7,0,
50,-50,57,49,-8,0,
51,-51,58,48,-9,0,
52,-52,59,48,-11,0,
52,-52,60,48,-13,0,
53,-53,62,47,-16,0,
54,-54,66,45,-20,0,
55,-55,67,90,23,0,
56,-56,67,90,23,0,
58,-58,68,90,22,0,
59,-59,68,90,22,0,

};



void setup() {
    /********************Initilize Servo*****************/
    /*
    servo1.attach(1, 500, 2400);
    servo2.attach(2, 500, 2400);
    servo3.attach(3, 500, 2400);
    servo4.attach(4, 500, 2400);
    servo5.attach(5, 500, 2400);
    servo6.attach(6, 500, 2400);
    */
    for(int i=0; i<6;){
        servoAR[i].attach(++i, 500, 2400);        
    }

    //Initial Position
    ServoAct(initDegree);
    /*
    servo1.write(90); //(90+J1)
    servo2.write(90); //(90+J2)
    servo3.write(90); //(90-J3)
    servo4.write(90); //(90-J4) 
    servo5.write(150);//(150-J5)   
    servo6.write(90);
    */
    
    for(int i = 0; i <sizeof(line); i = i + 6){
       int degree[] = {90 + line[i], 90 - line[i+1], 90 - line[i+2], 90 - line[i+3], 150 +line[i+4], 90 + line[i+5]};
        ServoAct(degree);
        delay(20);
    }
       toOrigin();

}

void loop() {
}

void toOrigin(){

  /*
    char turn[6];
    for(size_t i = 0; i < 6; i++){
        turn[i] = ( degree[i] > initDegree[i] ) ? -1 : 1;
    }
    for(size_t i = 0; i < 6; i++){
        turn[i] = ( degree[i] > initDegree[i] ) ? -1 : 1;
    }
    */
    int degree[6];
    for(size_t i = 5; i >= 0; i--){
      degree[i] = servoAR[i].read();
    }
    
    for(size_t i = 5; i >= 0; i--){
        if(degree[i] > initDegree[i]){
            for(int d=degree[i]; d<initDegree[i]; d--){
                servoAR[i].write(d);
            }
        }
        else{
            for(int d=initDegree[i]; d>degree[i]; d++){
                servoAR[i].write(d);
            }
        }
    }

}

void ServoAct(int degree[]){
    for(int i=0; i<6;){
        servoAR[i].write(degree[i++]);        
    }
}
